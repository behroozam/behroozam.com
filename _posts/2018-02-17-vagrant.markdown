---
layout: post
comments: true
title: "ุฑุงู ุงูุฏุงุฎุชู vagrant ุฏุฑ ุณู ุณูุช"
date: 2018-02-17
categories: featured
image: /assets/article_images/vagrant/vagrant.png

---
ุจุงู ุจุฑฺฏุฑุฏู ุจู ุฏู ุณุงู ูุจู ูู ุฎุจุฑ ุงุฒ ุฏุงฺฉุฑ ุจูุฏ ูู ูุนูุงุฑ ูพุฑุฏุงุฒูุฏู ูุง ุฌูุฑ ุจูุฏ ฺฉู ุจุดู ุฑู ูุฌุงุฒ ุณุงุฒ ูุงููุฑ ุฒุงุฏ ุฏุงุฏ ู ูุฌุงุฒ ุณุงุฒ ุชู ุงุณุชูุงุฏู ุงุฒ vmware ู virtualbox ู kvm  ุชุนุฑู ูุดุฏ ุชุงุฒู ุงฺฏุฑ kvm ุฑู ูุงฺฉุชูุฑ ูฺฏุฑู ฺฉู ุชุง ูุฏุช ูุง ุงูู ูู ููุฌูุฑ ุจูุฏ .
 ุจุง ุงูฺฉู ูููุฒ ูุฌุงุฒ ุณุงุฒ ุณูุช low level ุงุณุชูุงุฏู ุฒุงุฏ ุฏุงุฑู ูู ุณููุดู ูุง ฺฉุงูุชูุฑ ูุซู lxc ู lxd ู docker ุฎู ูพุฑ ุทุฑูุฏุงุฑ ุดุฏู. ุดุงุฏ ุงุฒ ุฎูุฏุชูู ุจูพุฑุณู ูู ฺุฑุง ุจุงุฏ ุงุฒ vagrant ุงุณุชูุงุฏู ฺฉูู ุฏุฑุญุงู ฺฉู ุฏุงฺฉุฑ ูุฏุฑู ุชุฑ ู ฺฉู ุงูพุดู ุจุดุชุฑ ูุฏู ู ูุนูุงุฑุด ูู ูฺฉุฑูุณุฑูุณ ู ูุฏุฑุช ููุงุจุน ุจู ุขุณูู ุงูุฌุงู ูุดู ูุงููุช ูพููุชู ูุชููู ุจู ุงุดุชุฑุงฺฉ ฺฏุฐุงุฑ ุจุดู ู ุขูพุดู ูุง ุฎูู ุชุฑ ูุชูุฑฺฉูฺฏ ุฏุงุฑู .
 ุฌูุงุจ ุฑู ูุดู ุชู ุณู ุจุฎุด ุฎูุงุตู ฺฉุฑุฏ .
ฑ -ุงุณุงุณุง ูุนูุงุฑ ฺฉุงูุชูุฑ ูุง ุฏุงฺฉุฑ ุจู ุฏูู ุงุฒููุดู ู ุงูุฌุงู ู ุชุณฺฉ ูุณุชุด ( ุจุนุถ ูุง ุฑุนุงุช ููฺฉูู ฺฉู ุณุฑูุณ ููพุงุดู ุชู ู ฺฉุงูุชูุฑ ู ฺฉู ูุงู ุงุถุงูู ูฺฉูู ฺฉู ุญุฌู ฺฉุงูุชูุชุฑ ุจู ุดุฏุช ุจุงูุง ูุจุฑู ุฏุฑ ูุชุฌู ุนููุง ูุฑู ุงูฺูุงู ุจุง ุณุฑูุณ ูุง ุณูุช ูุฏุงุฑู ู ู ูุฌุงุฒ ุณุงุฒ ุดุจู ุณูุช ฺฉู ุจุง ุฏุงฺฉุฑูุงุดู ูุฏุฑุช ูุดู ) . ูพุณ ุงฺฏุฑ ูุฎูุงู ุฏุชุงุจุณ ู ูุจ ุณุฑูุณ ู ฺฉุด ุณุฑูุฑ ู ุฑุฏุณ ุชูู ุฑู ู ูุงุดู ูุฌุงุฒ ุจุงุดู ู ูู ฺูุฏู ฺฉุงูุชูุฑ ุจูุชุฑู ุฑุงู ุงุณุชูุงุฏู ุงุฒ vagrant .
2- ุฏุงฺฉุฑ ูููุฒ ุฑุงู ุฒุงุฏ ุจุฑุง ูพุดุชุจุงู ุงุฒ ุชูุงู ูพูุชูุฑู ูุง ุฏุงุฑู . ูุฏููู ฺฉู ุงฺฉุซุฑ ุดุฑฺฉุช ูุง ุฏุฑ ุจุฎุด ุงูุชุฑูพุฑุงุฒ ุง ุงุฒ ูุฑฺู ูุง ูุฏู ุชุฑ ฺฉุฑูู ูููฺฉุณ ุงุณุชูุงุฏู ูฺฉูู ุง ุงุฒ freebsd ฺฉู ูุงุนุฏุชุง ุงุฒ ุฏุงฺฉุฑ ูพุดุชุจุงู ููฺฉููุฏ 
ณ โ ูุทุนุง ุจุฑุง ุณุณ ุงุฏูู ูุง ุณูุช ุชุฑ ุงุฏุงูพุช ุดุฏู ุจุง ุงู ููู ุญุฌู ุชุบุฑุงุช ฺฉู ุฏุฑ ฺูุฏ ุณุงู ฺฏุฐุดุชู ุฏุฑ ุฒููู ูุฌุงุฒ ุณุงุฒ ุงุชูุงู ุงูุชุงุฏู ุณุฎุช ุชุฑู . Vagrant ูุชููู ุจู ุณุงุฏฺฏ ุงู ุชุฑุณ ุงุฒ ุชุบุฑ ุฑู ุงุฒ ุจู ุจุจุฑู ( ุงูุจุชู ฺฉู ฺุฒ ุฌุฒ ู ฺฉุงููุฏูุงู ุจุฑุง ูุฏุฑุช vm options ูุณุช ู ุณุงุฎุชุงุฑ ูุงู ุณุณุชู ู    ูุฏุฑุช ูพุฑุฏุงุฒุด ุจู ฺฉู ุจุง ุฏุงฺฉุฑ ูุฑู ูฺฉูู ูู ุฎู ุจูุชุฑ ุงุฒ ูุญุท ฺฏุฑุงูฺฉ )
ด- ุจุฑุง ุชูุณุนู ุฏููุฏู ูุง ฺฉู ูุณูุท ุจู ุฏุงฺฉุฑ ุฑุฌุณุชุฑ ู ุฏุงฺฉุฑ ฺฉุงููพูุฒ ูุณุชู ูุฑุงูุฏ ุฏููููพ ุฑู ูุชููู ุณุฑุนุชุฑ  ู ุงุฒ ุดููุบ ฺฉุงุฑ ุชู ุณุณุชู ุงุตู ุฑู ฺฉูุชุฑ ุจฺฉูู . ูฺฺฉ ููุฎูุงุฏ ฺฉู ุจุนุฏ ุงุฒ ูพุงุงู ูพุฑูฺู ฺฉู ูพฺฉุฌ ุจูุงุงุณุชูุงุฏู ุฑู ุณุณุชูุด ุฏุงุดุชู ุจุงุดู 

ุชุง ุงูุฌุง ฺฉุงุฑ ุง vagrant ุจู ุฏุฑุฏ ุดูุง ูุฎูุฑู ุง ููุฎูุฑู ูพุณ ูุฑู ุณุฑุงุบ ุชุนุฑู vagrant ฺฉู ฺ ูุณุชุด ู ุงูพุดู ูุง ฺฉู ูุฏู ฺู ู ฺู ุฌูุฑ ุชู ุณู ุณูุช ุณู ุชุง ุงูุณุชูุณ  centos 7 ุจู ููุฑุงู ุฏุงฺฉุฑุงูุฌู ุจุงุฑู ุจุงูุง ุจุฏูู ุฏุฑุฏ ู ุฎููุฑุฒ ุชู ูุทู ุฏุงุฆู ุงูุชุญุฑู ุงุฑุงู . 

Vagrant ฺู ุ
ูฺฏุฑุงูุช  ุงุจุฒุงุฑ ฺฉู ุจุฑุง ุณุงุฎุช ูุงุดู ูุฌุงุฒ ู ูุญุท ุชูุณุนู ุจู ฺฉุงุฑ ูุฑู ู ุชูุฑฺฉุฒุด ุฑู ุงุชููุงุชฺฉ ุณุงุฒ ูุฑุงูุฏ ูุง ูุณุชุด 

 ฺู ุฌูุฑ ู ูุงุดู ูุฌุงุฒ ุฑู ุชู ุณู ุณูุช ุจุง ูฺฏุฑุงูุช ุจุงูุง ุจุงุฑู :
ุงูู ูุงุฒ ุจู ูุตุจ ูฺฏุฑุงูุช ูุณุชุด ฺฉู ุจู ุณุงุฏฺฏ ูุชููุฏ ุงุฒ ุงูุฌุง ูพฺฉุฌ ููุงุณุจ ุณุณุชู ุนุงูู ุฎูุฏุชูู ุฑู ุฏุงูููุฏ ฺฉูุฏ . ู ุฏุงุฑฺฉุชูุฑ ุจุณุงุฒุฏ ู ูุงุฑุฏุด ุจุดู 
ุชู ูุฏู ุจุนุฏ ูุงุฒูุณุชุด ฺฉู ู ุจุงฺฉุณ ุงุฒ ูพุด ุณุงุฎุชู ุดุฏู ูฺฏุฑุงูุช ุจู ุนููุงู ุณุณุชู ุนุงูู ุฎูุฏุชูู ุงูุชุฎุงุจ ฺฉูุฏุจุฑุง ูุซุงู ูู ุจุงฺฉุณ centos 7 ุฑู ุฏุงูููุฏ ฺฉุฑุฏู  ( ุงู ูุณูุช ูุงุฒููุฏ ุฏุงูููุฏ ุงูุฌ ุณุณุชู ุนุงูู ูุฐฺฉูุฑ ูุณุชุด )
``` bash
vagrant init centos/7 
```
ฺฉุงููุฏ init ู ูุงู Vagrantfile ูุณุงุฒู ฺฉู ุชู ุงูู ุชูุงู ุชูุธูุงุช ูุงุดู ูุฌุงุฒ ุฐุฎุฑู ุดุฏู
ุชู ูุฏู ุจุนุฏ ฺฉุงู ูุณุชุด ฺฉู vagrant up ุจุฒูุฏ ุชุง ุงูุฌ ุณุณุชู ุนุงูู ุฏุงูููุฏ ุจุดู ู ุณุณุชู ุขูพ ุจุดู .
ูุฏู ุจุนุฏ vagrant ssh ูุณุชุด ฺฉู ูุงุฑุฏ ุณุณุชู ุจุดู ู ูพฺฉุฌ ูุง ููุฑุฏ ุนูุงูุชูู ุฑู ูุตุจ ฺฉูุฏ ุง ุณุณุชู ุนุงูู ฺฉุงููฺฏ ฺฉูุฏ . ุชูุฌู ฺฉูุฏ ูุฒุฑ vagrant ุฏุงุฑุง ุฏุณุชุฑุณ sudoers ูุณุช
ุฏุฑ ุขุฎุฑ ูพุณ ุงุฒ ูพุงุงู ฺฉุงุฑ vagrant destroy ฺฉู ุจุงุนุซ ูุดู ุงูุฌ ุจู ููุฑุงู ูุชุนููุงุชุด ุจู ููุง ุจุฑู 
ุจุฑุง ุฏุฏู ุงูฺฉู ฺู ูุงุดู ูุฌุงุฒ ูุง ุฑู vagrant ุฏุฑ ุญุงู ุงุฌุฑุง ูุณุชู ูุชููุฏ ุงุฒ ฺฉุงููุฏ vagrant global-status  ุงุณุชูุงุฏู ฺฉูุฏ .

ุณูุงุฑู ูุง ูู ุงูุจุชู ูุฌูุฏ ุฏุงุฑู ฺฉู ุจุฎูุงู ุงุฒ ุชูุธูุงุช ุง ุงุชููุดู  ุฎูุฏุชูู ุงุณุชูุงุฏู ฺฉูุฏ ูุฑฺฏูุช ุงุฒ ูพูุงฺฏู ูุง ูุฎุชูู ูู ูพุดุชุจุงู ูฺฉูู ุจุฑุง ูุซุงู ุฏุฑ ุงฺฉุซุฑ ูพุฑูฺู ูุง ฺฉู ููุฑุฏ ุชุญุฑู ูุงูุน ุดุฏู ุจุงุฏ ุงุฒ ูพุฑุงฺฉุณ ุจุฑุง ุฏูุฑ ุฒุฏู ุชุญุฑู ูุง ุงุณุชูุงุฏู ฺฉูู ฺฉู ูพูุงฺฏู vagrant-proxyconf ุจู ุตูุฑุช ุงุชููุงุชฺฉ ุชูุธูุงุช ูพฺฉุฌ ููุฌุฑ ู ุงฺฉุซุฑ ูพฺฉุฌ ูุง ูพุฑฺฉุงุฑุจุฑุฏ ูุซู docker ุฑู ุชุบุฑ ูุงุฏู ุชุง ุชุฑุงูฺฉ ูพุดุช ูพุฑุงฺฉุณ ููุชูู ุจุดู
``` bash 
vagrant plugin install vagrant-proxyconf
#in vagrant file
config.proxy.http     = "http://yourproxy:8080"
config.proxy.https    = "http://yourproxy:8080"
config.proxy.no_proxy = "localhost,127.0.0.1"
```


 ููุฑุฏ ุฏฺฏู ุง ฺฉู ุฏุฑููุฑุฏ ูฺฏุฑูุช ูุณุช ุงู ูุณุชุด ฺฉู ูุชููุฏ ุจู ูุงุดู ูุฌุงุฒ ุฎูุฏุชูู public ุง private ุงูพ ุจุฏู . ุจู ุงู ุตูุฑุช ฺฉู ุงฺฏุฑ ูพุงุจูฺฉ ุจุงุดู ุชู ุงูุชุฑูุช ุง ุดุจฺฉู ููฺฉุงูุชูู ูุงุจู ุฏุณุชุฑุณ ูุณุชุด ุจุณุชู ุจู ip ฺฉู ูุฏู . ุฏู ูุซุงู ุจุฑุง ุดุจฺฉู ูพุงุจูฺฉ ู ูพุฑุงูุช ูุฒูู 

ูพุฑุงูุช :
ุฒูุงู ฺฉู ูุฎูุงู ุจุง dhcp ุจู ูุฑฺฉุฏูู ุงุฒ ูุงุณุช ูุง vagrant ุฎูุฏุชูู ุงูพ ุจุฏู ฺฉู ููฺฉุงู ูุงุดู ูุฌุงุฒ ุจุงุดู . ุง ุจุฑุง ุชุณุช ูุฎูุงู ุชุนุฏุงุฏ ุฒุงุฏ ูุงุดู ูุฌุงุฒ ุจุงุฑู ุจุงูุง ฺฉุงูู ฺูุฏ ุชุง ุฏุงุฑฺฉุชูุฑ ุจุณุงุฒู ุชูุธูุงุช ุฑู ุฑู dhcp ุจุฒุงุฑู ุชูVagrantfile ู ุขูพ ฺฉูุฏ 
``` bash
Vagrant.configure("2") do |config|
  config.vm.network "private_network", type: "dhcp"
end
```
ูพุงุจูฺฉ :
ูุฑุถ ูฺฏุฑู ุณุงุจูุช ุดุจฺฉู ุดูุง 192.168.10.0 ูุณุชุด ุจุฑุง ุฏุฏู ุดุฏู ูุงุดู ูุฌุงุฒุชูู ุชู ุงู ุดุจฺฉู ฺฉุงูู ุฏุฑ ุชูุธูุงุช ู ุงูพ ุฏุณุช ุณุช ฺฉูุฏ 
```bash
Vagrant.configure("2") do |config|
config.vm.network "public_network", ip: "192.168.10.7"
```
ุณูุงุฑู ุฏฺฏู ุงุชููุดู ูุณุชุด ุชุตูุฑ ฺฉูุฏ ุญุฏุงูู ุฏู ุชุง ุณุฑูุฑ ุชุณุช ูุฎูุงู ุฑุงู ุงูุฏุงุฒ ฺฉูุฏ ฺฉู ูุฑฺฉุฏูู ูุตุจ ู ฺฉุงููฺฏุด ูุทุนุง ุฒูุงู ุจุฑ ุฎูุงูุฏ ุจูุฏ . ฺฺฉุงุฑ ูฺฉูุฏ ุ
ุฎูุดุจุฎุชุงูู vagrant ุงุฒ  bash script ู ฺฉูุง ูุงุจูุช provision ูพุดุชุจุงู ูฺฉูู ูพุณ ุฏุณุชุชูู ุจุฑุง ุงู ุฏุณุช ุงุฒ ูุนุงูุช ูุง ุงุชููุดู ุจุงุฒ ูุณุชุด ุจุฑุง ูุซุงู ูุฎูุงู ุฏุงฺฉุฑ ุฑู ุฑู ูฺฏุฑุงูุช ูุตุจ ฺฉูุฏ ( virtualization inside virtualization ๐ ๐ )
ูุซุงูุด ุงูุฌูุฑ ูุดู 
ุชู ุชูุธูุงุช Vagrantfile ุงุณฺฉุฑูพุช ุฑู ูุนุฑู ูฺฉูุฏ 
``` bash
 config.vm.provision :shell, path: "../rancher.sh"
```
ุจุนุฏ ุชู ุฏุงุฑฺฉุชูุฑ parent ุงุณฺฉุฑูพุช  rancher.sh ุฑู ูุณุงุฒู ุจู ุงู ุตูุฑุช 
``` bash
#! /bin/bash
yum update -y
curl -fsSL https://get.docker.com/ | sh
sudo systemctl enable docker.service
sudo systemctl start docker
```

ุจุณุชู ุจู ูุงุฒ ุดูุง ุงู ุณูุงุฑููุง ูุชููู ูพฺุฏู ุชุฑ ุจุงุดู.
 ุงูพุดู ูุง ุฏฺฏู ุง ุจุฑุง ูุญุฏูุฏ ฺฉุฑุฏู ุง ูุดุฎุต ฺฉุฑุฏู ุชุนุฏุงุฏ ูุณุชู ูุง cpu ู ram ู interface ูุณุช ฺฉู ุฏุฑ ุงู ููุงูู ุฌุง ููุดุฏ ุงูุฏูุงุฑู ฺฉู ุงู ููุงูู ุจู ุดูุง ฺฉูฺฉ ฺฉูู ฺฉู ุจู ุณุงุฏฺฏ ู ุฏุฑ ุณู ุณูุช ูุงุดู ูุฌุงุฒ ุฎูุฏุชูู ุฑู ุฑุงู ุงูุฏุงุฒ ฺฉูุฏ 



